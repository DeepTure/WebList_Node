<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Esta es solo una prueba para registrar inasistencias</h1>
    <form action="/save" method="post">
        <br>
        Ingrese el id de la inscripcion del alumno
        <br>
        <input type="text" name="inscripcion" id="in" placeholder="Inscripcion">
        <br><br>
        Ingrese el el id de la materia a la que faltó
        <br>
        <input type="text" name="materia" id="mat" placeholder="Asignatura">
        <br><br>
        <input type="button" value="Registrar" onclick="reg()">
        <br><br>
        <input type="submit" value="Registrar por submit">
    </form>

    <br><br><hr>
    <form>
        <h1>Eliminar</h1>
        Ingrese el id de la inasistencia<br>
        <input type="text" name="inasistencia" id="inas">
        <br><br>
        <input type="button" value="Eliminar inasistencia" onclick="eliminar()">
    </form>
    <br><br><hr>
    <form>
        <h1>Actualizar</h1>
        Ingrese el ID de la inasistencia
        <br>
        <input type="text" id="inass">
        <br><br>
        Ingrese el nuevo id de la inscripcion del alumno
        <br>
        <input type="text" name="inscripcion" id="insc" placeholder="Inscripcion">
        <br><br>
        Ingrese el nuevo id de la materia a la que faltó
        <br>
        <input type="text" id="mate">
        <br><br>
        <input type="button" value="Actualizar" onclick="actualizar()">
    </form>

</body>
<script>
    function reg(){
            $.ajax({
                url:'/save',
                type:'post',
                data:{
                    inscripcion: document.getElementById('in').value,
                    materia: document.getElementById('mat').value
                },
                success: function(response){
                   alert(response);
                   console.log(response)
                },
                error:function(response){
                    alert(response);
                    console.log(response)
                }
            });
        }

        function eliminar(){
            $.ajax({
                url:'/delete',
                type:'post',
                data:{inasistencia:document.getElementById('inas').value},
                success: function(response){
                    alert(response);
                    console.log(response);
                },
                error:function(response){
                    alert(response);
                    console.log(response);
                }
            });
        }
        function actualizar(){
            $.ajax({
                url:'/update',
                type:'post',
                data:{
                    inasistencia:document.getElementById('inass').value,
                    inscripcion:document.getElementById('insc').value,
                    materia:document.getElementById('mate').value
                },
                success: function(response){
                    alert(response);
                    console.log(response);
                },
                error:function(response){
                    alert(response);
                    console.log(response);
                }
            });
        }
</script>
</html>